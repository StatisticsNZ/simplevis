<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Map of simple features in ggplot that is coloured and facetted. — ggplot_sf_col_facet • simplevis</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Map of simple features in ggplot that is coloured and facetted. — ggplot_sf_col_facet" />

<meta property="og:description" content="Map of simple features in ggplot that is coloured and facetted." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simplevis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/simplevis.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/StatisticsNZ/simplevis">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Map of simple features in ggplot that is coloured and facetted.</h1>
    <small class="dont-index">Source: <a href='https://github.com/StatisticsNZ/simplevis/blob/master/R/ggplot_sf_fun.R'><code>R/ggplot_sf_fun.R</code></a></small>
    <div class="hidden name"><code>ggplot_sf_col_facet.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Map of simple features in ggplot that is coloured and facetted.</p>
    
    </div>

    <pre class="usage"><span class='fu'>ggplot_sf_col_facet</span>(<span class='no'>data</span>, <span class='no'>col_var</span>, <span class='no'>facet_var</span>, <span class='kw'>col_method</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>bin_cuts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>quantile_cuts</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span>, <span class='fl'>1</span>),
  <span class='kw'>quantile_by_facet</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.9</span>, <span class='kw'>pal</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>rev_pal</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>col_scale_drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>remove_na</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>facet_nrow</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>legend_ncol</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>legend_digits</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>coastline</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>coastline_behind</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>coastline_pal</span> <span class='kw'>=</span> <span class='st'>"#7f7f7f"</span>, <span class='kw'>title</span> <span class='kw'>=</span> <span class='st'>"[Title]"</span>, <span class='kw'>subtitle</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>col_title</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>caption</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>legend_labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>font_family</span> <span class='kw'>=</span> <span class='st'>"Helvetica"</span>, <span class='kw'>font_size_title</span> <span class='kw'>=</span> <span class='fl'>11</span>,
  <span class='kw'>font_size_body</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>wrap_title</span> <span class='kw'>=</span> <span class='fl'>75</span>, <span class='kw'>wrap_subtitle</span> <span class='kw'>=</span> <span class='fl'>80</span>,
  <span class='kw'>wrap_col_title</span> <span class='kw'>=</span> <span class='fl'>25</span>, <span class='kw'>wrap_caption</span> <span class='kw'>=</span> <span class='fl'>80</span>, <span class='kw'>isMobile</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A sf object with defined coordinate reference system. Required input.</p></td>
    </tr>
    <tr>
      <th>col_var</th>
      <td><p>Unquoted variable for points to be coloured by. Required input.</p></td>
    </tr>
    <tr>
      <th>facet_var</th>
      <td><p>Unquoted categorical variable to facet the data by. Required input.</p></td>
    </tr>
    <tr>
      <th>col_method</th>
      <td><p>The method of colouring features, either "bin", "quantile" or "category." NULL results in "category", if categorical or bin if numeric col_var. Note all numeric variables are cut to be inclusive of the min in the range, and exclusive of the max in the range (except for the final bucket which includes the highest value).</p></td>
    </tr>
    <tr>
      <th>bin_cuts</th>
      <td><p>A vector of bin cuts applicable where col_method of "bin" is selected. The first number in the vector should be either -Inf or 0, and the final number Inf. If NULL, 'pretty' breaks are used.</p></td>
    </tr>
    <tr>
      <th>quantile_cuts</th>
      <td><p>A vector of probability cuts applicable where col_method of "quantile" is selected. The first number in the vector should 0 and the final number 1. Defaults to quartiles. Only applicable where col_method equals "quantile".</p></td>
    </tr>
    <tr>
      <th>quantile_by_facet</th>
      <td><p>TRUE of FALSE  whether quantiles should be calculated for each group of the facet variable. Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>Size of points. Defaults to 0.5.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>The opacity of polygons. Defaults to 0.9.</p></td>
    </tr>
    <tr>
      <th>pal</th>
      <td><p>Character vector of hex codes. Defaults to NULL, which selects the colorbrewer Set1 or viridis.</p></td>
    </tr>
    <tr>
      <th>rev_pal</th>
      <td><p>Reverses the palette. Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>col_scale_drop</th>
      <td><p>TRUE or FALSE  of whether to drop unused levels from the legend. Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>remove_na</th>
      <td><p>TRUE or FALSE  of whether to remove NAs of the colour variable. Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>facet_nrow</th>
      <td><p>The number of rows of facetted plots. Not applicable to where isMobile is TRUE.</p></td>
    </tr>
    <tr>
      <th>legend_ncol</th>
      <td><p>The number of columns in the legend.</p></td>
    </tr>
    <tr>
      <th>legend_digits</th>
      <td><p>Select the appropriate number of decimal places for numeric variable auto legend labels. Defaults to 1.</p></td>
    </tr>
    <tr>
      <th>coastline</th>
      <td><p>Add a sf object as a coastline (or administrative boundaries). Defaults to NULL. Use nz (or nz_region) to add a new zealand coastline. Or add a custom sf object.</p></td>
    </tr>
    <tr>
      <th>coastline_behind</th>
      <td><p>TRUE or FALSE  as to whether the coastline is to be behind the sf object defined in the data argument. Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>coastline_pal</th>
      <td><p>Colour of the coastline. Defaults to "#7F7F7F".</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>Title string. Defaults to "[Title]".</p></td>
    </tr>
    <tr>
      <th>subtitle</th>
      <td><p>Subtitle string. Defaults to "[Subtitle]".</p></td>
    </tr>
    <tr>
      <th>col_title</th>
      <td><p>Colour title string for the legend. Defaults to NULL.</p></td>
    </tr>
    <tr>
      <th>caption</th>
      <td><p>Caption title string. Defaults to NULL.</p></td>
    </tr>
    <tr>
      <th>legend_labels</th>
      <td><p>A vector of manual legend label values. Defaults to NULL, which results in automatic labels.</p></td>
    </tr>
    <tr>
      <th>font_family</th>
      <td><p>Font family to use. Defaults to "Helvetica".</p></td>
    </tr>
    <tr>
      <th>font_size_title</th>
      <td><p>Font size for the title text. Defaults to 11.</p></td>
    </tr>
    <tr>
      <th>font_size_body</th>
      <td><p>Font size for all text other than the title. Defaults to 10.</p></td>
    </tr>
    <tr>
      <th>wrap_title</th>
      <td><p>Number of characters to wrap the title to. Defaults to 75. Not applicable where isMobile equals TRUE.</p></td>
    </tr>
    <tr>
      <th>wrap_subtitle</th>
      <td><p>Number of characters to wrap the subtitle to. Defaults to 80. Not applicable where isMobile equals TRUE.</p></td>
    </tr>
    <tr>
      <th>wrap_col_title</th>
      <td><p>Number of characters to wrap the colour title to. Defaults to 25. Not applicable where isMobile equals TRUE.</p></td>
    </tr>
    <tr>
      <th>wrap_caption</th>
      <td><p>Number of characters to wrap the caption to. Defaults to 80. Not applicable where isMobile equals TRUE.</p></td>
    </tr>
    <tr>
      <th>isMobile</th>
      <td><p>Whether the plot is to be displayed on a mobile device. Defaults to FALSE. In a shiny app, use input$isMobile if your app is able to retreive this input. A method to do this is described at https://g3rv4.com/2017/08/shiny-detect-mobile-browsers</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A ggplot object.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>map_data</span> <span class='kw'>&lt;-</span> <span class='no'>example_sf_nz_river_wq</span> <span class='kw'>%&gt;%</span>
 <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>period</span> <span class='kw'>==</span> <span class='st'>"1998-2017"</span>,
 <span class='no'>indicator</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Nitrate-nitrogen"</span>, <span class='st'>"Dissolved reactive phosphorus"</span>))

<span class='fu'>ggplot_sf_col_facet</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>map_data</span>, <span class='kw'>col_var</span> <span class='kw'>=</span> <span class='no'>trend_category</span>, <span class='kw'>facet_var</span> <span class='kw'>=</span> <span class='no'>indicator</span>,
 <span class='kw'>coastline</span> <span class='kw'>=</span> <span class='no'>nz</span>, <span class='kw'>pal</span> <span class='kw'>=</span> <span class='no'>pal_trend3</span>,
 <span class='kw'>title</span> <span class='kw'>=</span> <span class='st'>"Monitored river nitrate-nitrogen trends, 2008\u201317"</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;e2&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;80&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;93&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;e2&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;80&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;93&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;e2&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;80&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;93&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;e2&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;80&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;93&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;e2&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;80&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;93&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;e2&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;80&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;93&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;e2&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;80&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;93&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;e2&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;80&gt;</span></div><div class='output co'>#&gt; <span class='warning'>Warning: conversion failure on 'Monitored river nitrate-nitrogen trends, 2008–17' in 'mbcsToSbcs': dot substituted for &lt;93&gt;</span></div><div class='img'><img src='ggplot_sf_col_facet-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Hodge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


