<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Map of an array in ggplot that is coloured and facetted. — ggplot_stars_col_facet • simplevis</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Map of an array in ggplot that is coloured and facetted. — ggplot_stars_col_facet" />

<meta property="og:description" content="Map of an array in ggplot that is coloured and facetted." />

<meta property="og:image" content="/logo.png" />





<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simplevis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/simplevis.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plot_examples.html">Plot examples</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/statisticsNZ/simplevis/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Map of an array in ggplot that is coloured and facetted.</h1>
    <small class="dont-index">Source: <a href='https://github.com/statisticsNZ/simplevis/blob/master/R/ggplot_stars_fun.R'><code>R/ggplot_stars_fun.R</code></a></small>
    <div class="hidden name"><code>ggplot_stars_col_facet.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Map of an array in ggplot that is coloured and facetted.</p>
    
    </div>

    <pre class="usage"><span class='fu'>ggplot_stars_col_facet</span><span class='op'>(</span><span class='va'>data</span>, col_method <span class='op'>=</span> <span class='st'>"quantile"</span>,
  col_quantile_by_facet <span class='op'>=</span> <span class='cn'>TRUE</span>, col_cuts <span class='op'>=</span> <span class='cn'>NULL</span>, pal <span class='op'>=</span> <span class='cn'>NULL</span>,
  pal_rev <span class='op'>=</span> <span class='cn'>FALSE</span>, coastline <span class='op'>=</span> <span class='cn'>NULL</span>, coastline_behind <span class='op'>=</span> <span class='cn'>TRUE</span>,
  coastline_pal <span class='op'>=</span> <span class='st'>"#7f7f7f"</span>, facet_nrow <span class='op'>=</span> <span class='cn'>NULL</span>, legend_ncol <span class='op'>=</span> <span class='fl'>3</span>,
  legend_digits <span class='op'>=</span> <span class='fl'>1</span>, title <span class='op'>=</span> <span class='st'>"[Title]"</span>, subtitle <span class='op'>=</span> <span class='cn'>NULL</span>,
  col_title <span class='op'>=</span> <span class='st'>""</span>, caption <span class='op'>=</span> <span class='cn'>NULL</span>, legend_labels <span class='op'>=</span> <span class='cn'>NULL</span>,
  font_family <span class='op'>=</span> <span class='st'>"Helvetica"</span>, font_size_title <span class='op'>=</span> <span class='cn'>NULL</span>,
  font_size_body <span class='op'>=</span> <span class='cn'>NULL</span>, wrap_title <span class='op'>=</span> <span class='fl'>70</span>, wrap_subtitle <span class='op'>=</span> <span class='fl'>80</span>,
  wrap_col_title <span class='op'>=</span> <span class='fl'>25</span>, wrap_caption <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span></pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A stars object with 2 dimensions, x and y, and multiple named attribute layers with usual convention of lower case and underscores. Each attribute layer will be a facet. Required input.</p></td>
    </tr>
    <tr>
      <th>col_method</th>
      <td><p>The method of colouring features, either "bin", "quantile" or "category." Defaults to "quantile". Note all numeric variables are cut to be inclusive of the min in the range, and exclusive of the max in the range (except for the final bucket which includes the highest value).</p></td>
    </tr>
    <tr>
      <th>col_quantile_by_facet</th>
      <td><p>TRUE of FALSE whether quantiles should be calculated for each group of the facet variable. Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>col_cuts</th>
      <td><p>A vector of cuts to colour a numeric variable. If "bin" is selected, the first number in the vector should be either -Inf or 0, and the final number Inf. If "quantile" is selected, the first number in the vector should be 0 and the final number should be 1. Defaults to quartiles.</p></td>
    </tr>
    <tr>
      <th>pal</th>
      <td><p>Character vector of hex codes, or provided objects with pal_ prefixes. Defaults to viridis.</p></td>
    </tr>
    <tr>
      <th>pal_rev</th>
      <td><p>Reverses the palette. Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>coastline</th>
      <td><p>Add a sf object as a coastline (or administrative boundaries). Defaults to NULL. Use nz (or nz_region) to add a new zealand coastline. Or add a custom sf object.</p></td>
    </tr>
    <tr>
      <th>coastline_behind</th>
      <td><p>TRUE or FALSE as to whether the coastline is to be behind the stars object defined in the data argument. Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>coastline_pal</th>
      <td><p>Colour of the coastline. Defaults to "#7F7F7F".</p></td>
    </tr>
    <tr>
      <th>facet_nrow</th>
      <td><p>The number of rows of facetted plots.</p></td>
    </tr>
    <tr>
      <th>legend_ncol</th>
      <td><p>The number of columns in the legend.</p></td>
    </tr>
    <tr>
      <th>legend_digits</th>
      <td><p>Select the appropriate number of decimal places for numeric variable auto legend labels. Defaults to 1.</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>Title string. Defaults to "[Title]".</p></td>
    </tr>
    <tr>
      <th>subtitle</th>
      <td><p>Subtitle string. Defaults to "[Subtitle]".</p></td>
    </tr>
    <tr>
      <th>col_title</th>
      <td><p>Colour title string for the legend. Defaults to NULL.</p></td>
    </tr>
    <tr>
      <th>caption</th>
      <td><p>Caption title string. Defaults to NULL.</p></td>
    </tr>
    <tr>
      <th>legend_labels</th>
      <td><p>A vector of manual legend label values. Defaults to NULL, which results in automatic labels.</p></td>
    </tr>
    <tr>
      <th>font_family</th>
      <td><p>Font family to use. Defaults to "Helvetica".</p></td>
    </tr>
    <tr>
      <th>font_size_title</th>
      <td><p>Font size for the title text. Defaults to 11.</p></td>
    </tr>
    <tr>
      <th>font_size_body</th>
      <td><p>Font size for all text other than the title. Defaults to 10.</p></td>
    </tr>
    <tr>
      <th>wrap_title</th>
      <td><p>Number of characters to wrap the title to. Defaults to 70.</p></td>
    </tr>
    <tr>
      <th>wrap_subtitle</th>
      <td><p>Number of characters to wrap the subtitle to. Defaults to 80.</p></td>
    </tr>
    <tr>
      <th>wrap_col_title</th>
      <td><p>Number of characters to wrap the colour title to. Defaults to 25.</p></td>
    </tr>
    <tr>
      <th>wrap_caption</th>
      <td><p>Number of characters to wrap the caption to. Defaults to 80.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A ggplot object.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>map_data1</span> <span class='op'>&lt;-</span> <span class='va'>example_stars_nz_no3n</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rlang</span><span class='fu'>::</span><span class='fu'><a href='https://rlang.r-lib.org/reference/set_names.html'>set_names</a></span><span class='op'>(</span><span class='st'>"Nitrate nitrogen"</span><span class='op'>)</span>

<span class='va'>map_data2</span> <span class='op'>&lt;-</span> <span class='va'>example_stars_nz_drp</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rlang</span><span class='fu'>::</span><span class='fu'><a href='https://rlang.r-lib.org/reference/set_names.html'>set_names</a></span><span class='op'>(</span><span class='st'>"Dissolved reactive phosphorus"</span><span class='op'>)</span>

<span class='va'>map_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>map_data1</span>, <span class='va'>map_data2</span><span class='op'>)</span>

<span class='fu'>ggplot_stars_col_facet</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>map_data</span>, coastline <span class='op'>=</span> <span class='va'>nz</span>,
   col_method <span class='op'>=</span> <span class='st'>"quantile"</span>, col_cuts <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.05</span>, <span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span>, <span class='fl'>0.95</span>, <span class='fl'>1</span><span class='op'>)</span>,
   title <span class='op'>=</span> <span class='st'>"River modelled nutrient concentrations, 2013-17"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 711534 rows containing missing values (geom_raster).</span></div><div class='img'><img src='ggplot_stars_col_facet-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Hodge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


